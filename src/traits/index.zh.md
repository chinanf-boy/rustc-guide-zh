# trait è§£å†³ï¼ˆæ–°å¼ï¼‰

> ğŸš§ æœ¬ç« æè¿°äº† trait è§£å†³çš„â€œæ–°å¼â€æ–¹æ³•ã€‚è¿™è¿˜å¤„äº[æ­£åœ¨å®ç°çš„è¿‡ç¨‹][wg];æœ¬ç« ä½œä¸ºä¸€ç§æ­£åœ¨è¿›è¡Œçš„è®¾è®¡æ–‡ä»¶ã€‚å¦‚æœæ‚¨æƒ³é˜…è¯»å½“å‰ trait è§£ç®—å™¨ï¼ˆsolverï¼‰çš„å·¥ä½œåŸç†ï¼Œè¯·æŸ¥çœ‹[å…¶ä»–ç« èŠ‚](./resolution.zh.html)ã€‚ğŸš§
>
> é¡ºä¾¿è¯´ä¸€å¥ï¼Œå¦‚æœä½ æƒ³å¸®åŠ© hacking æ–°è§£ç®—å™¨ï¼Œä½ ä¼šæ‰¾åˆ°å‚ä¸[trait å·¥ä½œç»„ä¹‹é—®é¢˜è·Ÿè¸ª][wg]çš„è¯´æ˜ï¼

[wg]: https://github.com/rust-lang/rust/issues/48416

æ–°å¼ trait è§£ç®—å™¨ï¼ŒåŸºäº[chalk][chalk]å®Œæˆçš„å·¥ä½œã€‚Chalk åœ¨é€»è¾‘ç¼–ç¨‹æ–¹é¢ï¼Œæ˜ç¡®åœ°é‡è¿°äº† Rust çš„ trait ç³»ç»Ÿã€‚å®ƒé€šè¿‡å°† Rust ä»£ç â€œé™å±‚ï¼ˆloweringï¼‰â€ä¸ºä¸€ç§é€»è¾‘ç¨‹åºæ¥åšåˆ°ï¼Œç„¶åæˆ‘ä»¬å¯ä»¥ç”¨æ­¤ï¼Œæ¥æ‰§è¡ŒæŸ¥è¯¢ã€‚

ä½ å¯ä»¥åœ¨[Chalk æ¦‚ç•¥](./chalk-overview.zh.md)ç« èŠ‚ï¼Œé˜…è¯»æ›´å¤šå…³äº chalk æœ¬èº«çš„ä¿¡æ¯ã€‚

åœ¨ rustc ä¸­ï¼Œè§£å†³ trait æ˜¯åŸºäºå‡ ä¸ªå…³é”®æƒ³æ³•ï¼š

- [Lowering åˆ°é€»è¾‘](./lowering-to-logic.zh.html)ï¼Œç”¨æ ‡å‡†é€»è¾‘æœ¯è¯­ï¼Œè¡¨è¾¾ Rust traitã€‚
  - è¯¥[goals å’Œ clauses](./goals-and-clauses.zh.html)ç« èŠ‚ï¼Œæè¿°äº†æˆ‘ä»¬ä½¿ç”¨çš„è§„åˆ™çš„ç¡®åˆ‡å½¢å¼ï¼Œä»¥åŠ[lowering è§„åˆ™](./lowering-rules.zh.html)ï¼Œæ›´åƒä»¥ä¸€ç§å‚è€ƒå½¢å¼ï¼Œç»™å‡ºå®Œæ•´çš„é™ä½è§„åˆ™é›†ã€‚
  - [Lazy normalization](./associated-types.zh.html)ï¼Œè¿™æ˜¯æˆ‘ä»¬åœ¨ç¡®å®šç±»å‹æ˜¯å¦ç›¸ç­‰æ—¶ï¼Œç”¨æ¥å®¹çº³ç›¸å…³ç±»å‹çš„æŠ€æœ¯ã€‚
  - [Region constraints](./regions.zh.html)ï¼Œè¿™æ˜¯åœ¨ trait è§£å†³è¿‡ç¨‹ä¸­ç§¯ç´¯çš„ï¼Œä½†å¤§éƒ¨åˆ†è¢«å¿½ç•¥ã€‚è¿™æ„å‘³ç€ trait è§£å†³æœ‰æ•ˆåœ°å¿½ç•¥äº†ï¼Œæ‰€æ¶‰åŠçš„ç²¾ç¡®åŒºåŸŸ - ä½†æˆ‘ä»¬ä»ç„¶è®°å¾—å¯¹å®ƒä»¬çš„çº¦æŸï¼Œä»¥ä¾¿å¯ä»¥é€šè¿‡ç±»å‹æ£€æŸ¥å™¨ï¼Œæ£€æŸ¥è¿™äº›çº¦æŸã€‚
- [Canonical queries](./canonical-queries.zh.html)ï¼Œè¿™è®©æˆ‘ä»¬èƒ½å¤Ÿè§£å†³ trait é—®é¢˜ï¼ˆæ¯”å¦‚â€œ`Foo`æ˜¯å¦ä¸º`Bar`ç±»å‹å®ç°äº†ï¼Ÿâ€œï¼‰ä¸€æ¬¡ï¼Œç„¶ååœ¨è®¸å¤šä¸åŒçš„æ¨æ–­ä¸Šä¸‹æ–‡ä¸­ï¼Œç‹¬ç«‹åœ°åº”ç”¨ç›¸åŒçš„ç»“æœã€‚

> è¿™ä¸æ˜¯ä¸€ä¸ªå®Œæ•´çš„ä¸»é¢˜åˆ—è¡¨ã€‚æœ‰å…³æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜…ä¾§æ ã€‚

## æ­£åœ¨è¿›è¡Œçš„å·¥ä½œ

æ–°å‹ trait è§£å†³æ–¹æ¡ˆçš„è®¾è®¡ï¼Œç›®å‰åœ¨ä¸¤ä¸ªåœ°æ–¹è¿›è¡Œï¼š

**chalk**ã€‚è¯¥[chalk][chalk]å­˜å‚¨åº“ï¼Œæ˜¯æˆ‘ä»¬å°è¯• trait ç³»ç»Ÿçš„æ–°æƒ³æ³•å’Œè®¾è®¡çš„åœ°æ–¹ã€‚å®ƒä¸»è¦ç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼š

- å•å…ƒæµ‹è¯•æ¡†æ¶ï¼Œå¯¹æ–°å¼ trait ç³»ç»Ÿå®šä¹‰çš„é€»è¾‘è§„åˆ™ï¼Œå…³æ³¨å…¶æ­£ç¡®æ€§å’Œå¯è¡Œæ€§ã€‚
- è¯¥[`chalk_engine`][chalk_engine]ç®±å­ï¼Œå®ƒå®šä¹‰äº†å•å…ƒæµ‹è¯•æ¡†æ¶å’Œ rustc ä¸­ï¼Œä½¿ç”¨çš„æ–°å¼ trait è§£ç®—å™¨ã€‚

**rustc**ã€‚ä¸€æ—¦æˆ‘ä»¬å¯¹é€»è¾‘è§„åˆ™æ„Ÿåˆ°æ»¡æ„ï¼Œæˆ‘ä»¬å°±ä¼šç»§ç»­åœ¨ rustc ä¸­å®ç°å®ƒä»¬ã€‚è¿™ä¸»è¦å‘ç”Ÿåœ¨[`librustc_traits`][librustc_traits]ã€‚

[chalk]: https://github.com/rust-lang-nursery/chalk
[chalk_engine]: https://github.com/rust-lang-nursery/chalk/tree/master/chalk-engine
[librustc_traits]: https://github.com/rust-lang/rust/tree/master/src/librustc_traits
