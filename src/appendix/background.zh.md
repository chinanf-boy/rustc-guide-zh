# 附录B：背景主题

本节介绍本指南中出现的一些常见编译器术语。我们试图给出一般的定义，同时提供一些铁锈特定的上下文。

<a name="cfg"></a>

## 什么是控制流程图？

控制流图是编译器的常用术语。如果您曾经使用过流程图，那么控制流程图的概念将非常熟悉。它是程序的一种表示，它以非常清晰的方式公开底层控制流。

控制流图的结构是**基本块**由边缘连接。基本块的关键思想是它是一组“一起”执行的语句，也就是说，每当您分支到基本块时，都从第一个语句开始，然后执行所有剩余的语句。只有在块的末尾才有可能分支到多个位置（在mir中，我们称该最终语句为**终止符**）：

```mir
bb0: {
    statement0;
    statement1;
    statement2;
    ...
    terminator;
}
```

Rust中使用的许多表达式可以编译为多个基本块。例如，考虑一个if语句：

```rust,ignore
a = 1;
if some_variable {
    b = 1;
} else {
    c = 1;
}
d = 1;
```

这将编译为四个基本块：

```mir
BB0: {
    a = 1;
    if some_variable { goto BB1 } else { goto BB2 }
}

BB1: {
    b = 1;
    goto BB3;
}

BB2: {
    c = 1;
    goto BB3;
}

BB3: {
    d = 1;
    ...;
}
```

当使用控制流图时，一个循环在图中简单地显示为一个循环，并且`break`关键字转换为该循环之外的路径。

<a name="dataflow"></a>

## 什么是数据流分析？

[*静态程序分析*](https://cs.au.dk/~amoeller/spa/)作者安德斯•M•勒和迈克尔•I•施瓦茨巴赫是一个令人难以置信的资源！

*被书写*

<a name="quantified"></a>

## 什么是“普遍量化”？那么“存在量化”呢？

*被书写*

<a name="variance"></a>

## 什么是协变和逆变？

从中查看子类型章节[锈蚀图标](https://doc.rust-lang.org/nomicon/subtyping.html).

见[方差](../variance.html)有关类型检查器如何处理差异的详细信息，请参阅本指南的章节。

<a name="free-vs-bound"></a>

## 什么是“自由区域”或“自由变量”？“绑定区域”呢？

让我们用程序变量来描述自由与约束的概念，因为这是我们最熟悉的。

-   考虑这个表达式，它创建一个闭包：`|a,
    b| a + b`. 这里，`a`和`b`在里面`a + b`请参阅调用闭包时将给出的参数。我们说`a`和`b`有**跳跃**到结束，并且结束签名`|a, b|`是一个**粘合剂**为了名字`a`和`b`（因为任何提及`a`或`b`在中引用它引入的变量）。
-   考虑这个表达式：`a + b`. 在这个表达式中，`a`和`b`引用定义的局部变量*外部*表达方式。我们说那些变量**显得自由**在表达式中（即**自由的**不是**跳跃**（捆绑）

这样就有了它：如果变量引用了在表达式/语句/随便什么之外定义的东西，那么它在某些表达式/语句/随便什么中“似乎是自由的”。同样地，我们可以引用表达式的“自由变量”，它只是一组“看起来自由”的变量。

那么这与地区有什么关系呢？我们可以将类似的概念应用到类型和区域中。例如，在类型中`&'a
u32`，`'a`看起来是免费的。但在类型`for<'a> fn(&'a u32)`它没有。
